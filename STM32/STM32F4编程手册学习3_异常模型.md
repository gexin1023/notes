## STM32F4编程手册学习3_异常模型

### 0. 异常状态：

- **Inactive 非活动的**
异常不活动也不就绪

- **Pending 就绪状态**
异常等待被处理器运行，一个中断请求可以将相关的异常转换到就绪状态

- **Active 活动状态**
异常被处理器执行但是还没有执行完。需要注意的是，一个异常可以打断另一个正在执行的异常，这种情况下两个异常都处于活动状态

- **Active and Pending 活动和就绪状态**
异常被服务器执行，而且还有来源于同一个中断源的异常就绪。

### 1. 异常类型

异常类型包括以下几种：

- **Resst**
该异常在上电或软重启时被执行，它是最高优先级的异常。当reset被唤起时，处理器的运行可以在程序的任何位置终止。

- **NMI**
 NonMaskable Interrupt (NMI)可以被外设或软件唤起，这是除了reset之外最高优先级的异常。它有一个固定的优先级-2。该异常不可以被其他异常掩盖或是禁止，不能被除了reset之外的异常抢占。
 
- **Hard fault**
硬错误是指由于异常处理发生错误或是异常不能被其他异常机制管理的异常。它的优先级是-1。

- **Memory management fault 内存管理错误**
由于内存包含相关的错误所引发的异常，这个异常常被用来终止那些试图访问XN（Execute Never）区域的指令。

- **总线错误 BUS fault**
由内存相关错误所引起的异常

- **Usage fault**
指令执行错误所引发的异常，如：
遇到未定义的指令；
非法的未对齐访问
指令执行时的无效状态
异常返回时遇到错误


- **SVCall**
由指令SVC所引起的异常，在OS环境中，使用SVC指令可以访问内核函数以及设备驱动。

- **PendSV**
PendSV is an interrupt-driven request for system-level service. In an OS environment, use PendSV for context switching when no other exception is active.

- **SysTick**
A SysTick exception is an exception the system timer generates when it reaches zero. Software can also generate a SysTick exception. In an OS environment, the processor can use this exception as system tick
 
- **Interrupt (IRQ) **
An interrupt, or IRQ, is an exception signalled by a peripheral, or generated by a software request. All interrupts are asynchronous to instruction execution. In the system, peripherals use interrupts to communicate with the processor.

